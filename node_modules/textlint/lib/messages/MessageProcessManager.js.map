{"version":3,"sources":["../../src/messages/MessageProcessManager.js"],"names":["MessageProcessManager","processes","_processes","process","push","index","indexOf","splice","messages","originalMessages","reduce","filter"],"mappings":"AAAA;AACA;;;;;;;;;;IACqBA,qB;AACjB;;;;AAIA,qCAA4B;AAAA,YAAhBC,SAAgB,uEAAJ,EAAI;;AAAA;;AACxB,aAAKC,UAAL,GAAkBD,SAAlB;AACH;;;;4BAEGE,O,EAAS;AACT,iBAAKD,UAAL,CAAgBE,IAAhB,CAAqBD,OAArB;AACH;;;+BAEMA,O,EAAS;AACZ,gBAAME,QAAQ,KAAKH,UAAL,CAAgBI,OAAhB,CAAwBH,OAAxB,CAAd;AACA,gBAAIE,UAAU,CAAC,CAAf,EAAkB;AACd,qBAAKH,UAAL,CAAgBK,MAAhB,CAAuBF,KAAvB,EAA8B,CAA9B;AACH;AACJ;;AAED;;;;;;;;gCAKQG,Q,EAAU;AACd,gBAAMC,mBAAmBD,QAAzB;AACA,gBAAI,KAAKN,UAAL,KAAoB,CAAxB,EAA2B;AACvB,uBAAOO,gBAAP;AACH;AACD,mBAAO,KAAKP,UAAL,CAAgBQ,MAAhB,CAAuB,UAACF,QAAD,EAAWG,MAAX,EAAsB;AAChD,uBAAOA,OAAOH,QAAP,CAAP;AACH,aAFM,EAEJC,gBAFI,CAAP;AAGH;;;;;;kBAjCgBT,qB","file":"MessageProcessManager.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nexport default class MessageProcessManager {\n    /**\n     * create MessageProcessManager with processes\n     * @param {function(messages: Array)[]} processes\n     */\n    constructor(processes = []) {\n        this._processes = processes;\n    }\n\n    add(process) {\n        this._processes.push(process);\n    }\n\n    remove(process) {\n        const index = this._processes.indexOf(process);\n        if (index !== -1) {\n            this._processes.splice(index, 1);\n        }\n    }\n\n    /**\n     * process `messages` with registered processes\n     * @param {TextLintMessage[]} messages\n     * @returns {TextLintMessage[]}\n     */\n    process(messages) {\n        const originalMessages = messages;\n        if (this._processes === 0) {\n            return originalMessages;\n        }\n        return this._processes.reduce((messages, filter) => {\n            return filter(messages);\n        }, originalMessages);\n    }\n}\n"]}